// Copyright 2020 Furqan Software Ltd. All rights reserved.

@require '../../../base/palette'

.pnav
	display none
	border-top 1px solid lighten($silver, 75%)
	font-size 0
	
	&.-open
		display block

	&__search
		position relative
		width 100%
		margin 12px 0
		font-size 1rem
		
		input
			width 100%
			padding 7px 5px 6px 25px
			border none
			border-bottom 1px solid lighten($silver, 50%)
			transition border-bottom-color 0.25s ease-in-out
			
			&:focus
				border-bottom-color $blue
				outline none
		
		.icon
			position absolute
			top 12px
			left 5px
			opacity 0.5
		
	&__item
		color $dark
		font-size 1rem

		&.-link,
		&.-drop > a
			text-decoration none

			&:hover,
			&:focus
				text-decoration none
				background-color transparent
				color $dark
		
		&.-more
			&,
			&:hover,
			&:focus
				text-decoration none

		.icon
			margin-top -3px

@media (max-width: 991px)
	.pnav
		&__item.-link,
		&__item.-drop > a,
		&__menu > a
			display block
			margin 0 -15px
			padding 0.5rem 1rem

			&.-active
				border-left 2px solid $blue
				padding-left 13px

		&__item.-drop
			.pnav__menu
				display none
			
			&.-open .pnav__menu
				display block

@media (min-width: 992px)
	.pnav
		display block

		&__search
			float right
			width 250px
			margin 6px 0
		
		&__item
			// float left
			display inline-block
			
			&.-link,
			&.-drop > a
				position relative
				padding 15px 15px 13px

				&::after
					content ''
					position absolute
					left 0
					bottom 0
					width 100%
					border-bottom 2px solid lighten($blue, 50%)
					transform scaleX(0)
					transition transform 0.125s ease-in-out

				&:hover,
				&:focus
					&::after
						transform scaleX(1)

				&.-active
					&::after
						transform scaleX(1)
						border-bottom-color $blue

			&.-drop
				position relative

				> a
					display inline-block

				.pnav__menu
					display none
					float left
					position absolute
					top 100%
					left 0
					z-index 1000
					min-width 150px
					min-width max-content
					margin 5px 0 0
					padding 0
					border 1px solid darken($silver, 5%)
					border-radius 0.25rem
					overflow hidden
					text-align left
					background-color white
					box-shadow 0 3px 0 alpha($dark, 0.05)
					
					> a
						display block
						padding 0.5rem 1rem
						color $dark
						transition background-color 0.25s ease-in-out

						&:hover,
						&:focus,
						&:active
							background-color lighten($silver, 75%)
				
				&.-open .pnav__menu
					display block